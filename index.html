<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lulu's Adventures ü¶ú‚ú®</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap');
        body { font-family: 'Nunito', sans-serif; }
        .gallery-item { break-inside: avoid; margin-bottom: 1.5rem; }
        /* Smooth fade-in */
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Slideshow Styles */
        #slideshow-modal {
            transition: opacity 0.3s ease;
        }
        .slide-container {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        #slide-img {
            max-width: 100%;
            max-height: 100vh;
            object-fit: contain;
            opacity: 0; /* Hidden by default until loaded */
        }
        
        /* Ken Burns Animations */
        @keyframes kenBurnsIn {
            from { transform: scale(1.0); }
            to { transform: scale(1.15); }
        }
        @keyframes kenBurnsOut {
            from { transform: scale(1.15); }
            to { transform: scale(1.0); }
        }
        
        .fx-zoom-in {
            animation: kenBurnsIn 6s ease-out forwards;
        }
        .fx-zoom-out {
            animation: kenBurnsOut 6s ease-out forwards;
        }
        
        /* Fade Transition */
        .fade-transition {
            transition: opacity 1s ease-in-out;
        }
    </style>
</head>
<body class="bg-amber-50 text-gray-800">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-orange-500 flex items-center gap-2">
                <span>ü¶ú</span> Lulu's Adventures
            </h1>
            <nav class="space-x-4 text-sm font-medium">
                <a href="#bali" class="hover:text-orange-500 transition">Bali</a>
                <a href="#northcoast" class="hover:text-orange-500 transition">North Coast</a>
                <a href="#pinglin" class="hover:text-orange-500 transition">Pinglin</a>
            </nav>
        </div>
    </header>

    <!-- Hero -->
    <div class="bg-orange-100 py-12 text-center">
        <h2 class="text-4xl font-bold mb-2 text-orange-600">Lulu Âá∫ÂéªÁé©ÔºÅ</h2>
        <p class="text-lg text-gray-600">Ë∑üËëóÂèØÊÑõÁöÑ Lulu ‰∏ÄËµ∑Êé¢Á¥¢‰∏ñÁïå üåç‚ú®</p>
    </div>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 py-8 space-y-16">

        <!-- Bali Section -->
        <section id="bali">
            <div class="flex items-center justify-between mb-6">
                <div class="flex items-center gap-4">
                    <h3 class="text-3xl font-bold text-gray-800">üå¥ Bali Adventure (2026-02-03)</h3>
                    <span class="px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-semibold">Vacation</span>
                </div>
                <button onclick="startSlideshow('bali')" class="flex items-center gap-2 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-full shadow transition">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z" />
                    </svg>
                    Play Slideshow
                </button>
            </div>
            <div class="columns-1 sm:columns-2 lg:columns-3 gap-6" id="bali-gallery">
                <!-- Images injected via JS -->
            </div>
        </section>

        <!-- North Coast Section -->
        <section id="northcoast">
            <div class="flex items-center justify-between mb-6">
                <div class="flex items-center gap-4">
                    <h3 class="text-3xl font-bold text-gray-800">üåä North Coast (2026-01-29)</h3>
                    <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold">Seaside</span>
                </div>
                <button onclick="startSlideshow('northcoast')" class="flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-full shadow transition">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z" />
                    </svg>
                    Play Slideshow
                </button>
            </div>
            <div class="columns-1 sm:columns-2 lg:columns-3 gap-6" id="northcoast-gallery">
                 <!-- Images injected via JS -->
            </div>
        </section>

         <!-- Pinglin Section -->
        <section id="pinglin">
            <div class="flex items-center justify-between mb-6">
                <div class="flex items-center gap-4">
                    <h3 class="text-3xl font-bold text-gray-800">üçµ Pinglin Tea Fields (2026-01-30)</h3>
                    <span class="px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-sm font-semibold">Nature</span>
                </div>
                <button onclick="startSlideshow('pinglin')" class="flex items-center gap-2 bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-full shadow transition">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z" />
                    </svg>
                    Play Slideshow
                </button>
            </div>
            <div class="columns-1 sm:columns-2 lg:columns-3 gap-6" id="pinglin-gallery">
                 <!-- Images injected via JS -->
            </div>
        </section>

    </main>

    <!-- Slideshow Modal -->
    <div id="slideshow-modal" class="fixed inset-0 bg-black bg-opacity-95 z-[100] hidden flex flex-col justify-center items-center">
        <button onclick="stopSlideshow()" class="absolute top-6 right-6 text-white hover:text-gray-300 z-50">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>
        
        <div class="relative w-full h-full flex items-center justify-center overflow-hidden">
            <div class="slide-container">
                <img id="slide-img" src="" alt="Slideshow" class="opacity-0 transform scale-100">
            </div>
        </div>

        <div class="absolute bottom-10 text-white text-center">
            <p id="slide-caption" class="text-xl font-semibold mb-2 shadow-black drop-shadow-md"></p>
            <div class="flex gap-4 justify-center">
                 <button onclick="prevSlide()" class="p-2 hover:bg-white/20 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" /></svg></button>
                 <button onclick="togglePause()" id="pause-btn" class="p-2 hover:bg-white/20 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 5.25v13.5m-7.5-13.5v13.5" /></svg></button>
                 <button onclick="nextSlide()" class="p-2 hover:bg-white/20 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" /></svg></button>
            </div>
        </div>
    </div>

    <footer class="bg-gray-800 text-gray-400 py-8 text-center mt-12">
        <p>Made with ‚ù§Ô∏è by Juju for Lulu & Papa</p>
    </footer>

    <script>
        const galleries = {
            bali: [
                "Lulu_Bali_CityView.jpg", "Lulu_Bali_Grass.jpg", "Lulu_Bali_FamilySelfie.jpg",
                "Lulu_Bali_FamilySelfie_2.jpg", "Lulu_Bali_FamilySelfie_3.jpg", "Lulu_Bali_Grass_Close.jpg",
                "Lulu_Bali_Grass_Portrait.jpg", "Lulu_Bali_Landscape.jpg", "Lulu_Bali_Overlook.jpg",
                "Lulu_Bali_PalmTree.jpg", "Lulu_Bali_PineCones.jpg", "Lulu_Bali_Sign_Landscape.jpg",
                "Lulu_Bali_WoodenBench.jpg"
            ],
            northcoast: [
                "Lulu_BeachView.jpg", "Lulu_Beach_WideView.jpg", "Lulu_Breakwater_Backpack.jpg",
                "Lulu_Breakwater_LookBack.jpg", "Lulu_Breakwater_Side.jpg", "Lulu_CloseUp_Smile.jpg",
                "Lulu_CoffeeAndWaffles.jpg", "Lulu_CoffeeTruck_Far.jpg", "Lulu_Mama_Holding_Cage.jpg",
                "Lulu_Mama_OutdoorSeating.jpg", "Lulu_Mama_Smile_Seaside.jpg", "Lulu_Mama_Umbrella_Seaside.jpg",
                "Lulu_OutdoorTable.jpg", "Lulu_PapaMama_BusStop.jpg", "Lulu_PapaMama_Coffee_Smile.jpg",
                "Lulu_PapaMama_OceanView.jpg", "Lulu_PapaMama_Peugeot.jpg", "Lulu_PapaMama_Umbrella_Selfie.jpg",
                "Lulu_Papa_Backpack.jpg", "Lulu_Papa_Backpack_2.jpg", "Lulu_Papa_Backpack_Mountain.jpg",
                "Lulu_Papa_Backpack_Road.jpg", "Lulu_Seaside_CloseUp.jpg", "Lulu_TeaGarden_Mama_Holding_3.jpg",
                "Lulu_Waffle_Seaview.jpg", "PapaMama_GuiHouFishMarket.jpg", "PapaMama_Lulu_Breakwater.jpg",
                "PapaMama_Lulu_GuiHouFishMarket.jpg", "Papa_Breakwater_Pose.jpg"
            ],
            pinglin: [
                "Lulu_ByTheRiver.jpg", "Lulu_ByTheRiver_Back.jpg", "Lulu_ByTheRiver_CloseUp.jpg",
                "Lulu_ByTheRiver_Selfie.jpg", "Lulu_ByTheRiver_Selfie_2.jpg", "Lulu_ByTheRiver_Side.jpg",
                "Lulu_ByTheRiver_Smile.jpg", "Lulu_OldStreet_Selfie.jpg", "Lulu_OldStreet_Selfie_2.jpg",
                "Lulu_OldStreet_Smile.jpg", "Lulu_OldStreet_Smile_2.jpg", "Lulu_OldStreet_Smile_3.jpg",
                "Lulu_OldStreet_Smile_4.jpg", "Lulu_OldStreet_Smile_5.jpg", "Lulu_OldStreet_Smile_6.jpg",
                "Lulu_OldStreet_Smile_7.jpg", "Lulu_OldStreet_Smile_8.jpg", "Lulu_OldStreet_Tree.jpg",
                "Lulu_OldStreet_Tree_2.jpg", "Lulu_OnCarHood.jpg", "Lulu_Pinglin_OldStreet_Selfie.jpg",
                "Lulu_Pinglin_OldStreet_Wall.jpg", "Lulu_Pinglin_Selfie.jpg", "Lulu_TeaGarden_Mama_Holding.jpg",
                "Lulu_TeaGarden_Mama_Holding_2.jpg", "Lulu_TeaGarden_Scenery.jpg"
            ]
        };

        function renderGallery(id, folder, images) {
            const container = document.getElementById(id);
            if (!container || images.length === 0) {
                 if (container) container.innerHTML = '<p class="text-gray-400 italic">No photos found yet...</p>';
                 return;
            }

            container.innerHTML = images.map(img => `
                <div class="gallery-item fade-in bg-white p-2 rounded-xl shadow-md hover:shadow-lg transition duration-300 cursor-pointer" onclick="openLightbox('${folder}', '${img}')">
                    <img src="images/${folder}/${img}" alt="${img}" class="rounded-lg w-full object-cover">
                    <p class="mt-2 text-center text-xs text-gray-400 truncate px-2">${img.replace(/Lulu_Bali_|Lulu_|.jpg/g, '').replace(/_/g, ' ')}</p>
                </div>
            `).join('');
        }

        renderGallery('bali-gallery', 'bali', galleries.bali);
        renderGallery('northcoast-gallery', 'northcoast', galleries.northcoast);
        renderGallery('pinglin-gallery', 'pinglin', galleries.pinglin);

        /* Slideshow Logic */
        let currentSlideIndex = 0;
        let currentSlideFolder = '';
        let slideInterval = null;
        let isPaused = false;
        let zoomToggle = false;

        function startSlideshow(folder) {
            currentSlideFolder = folder;
            currentSlideIndex = 0;
            document.getElementById('slideshow-modal').classList.remove('hidden');
            showSlide();
            isPaused = false;
            updatePauseIcon();
            // Start automatic playing
            clearInterval(slideInterval);
            slideInterval = setInterval(nextSlide, 5000); // 5 seconds per slide
        }

        function stopSlideshow() {
            document.getElementById('slideshow-modal').classList.add('hidden');
            clearInterval(slideInterval);
            // Reset zoom
            const img = document.getElementById('slide-img');
            img.classList.remove('zoom-in', 'zoom-out');
        }

        function showSlide() {
            const img = document.getElementById('slide-img');
            const caption = document.getElementById('slide-caption');
            const images = galleries[currentSlideFolder];
            const filename = images[currentSlideIndex];

            // 1. Fade OUT old image
            img.style.opacity = '0';
            
            // Wait for fade out to complete (500ms) before swapping source
            setTimeout(() => {
                // 2. Prepare NEW image state (hidden, no animation)
                img.classList.remove('fade-transition', 'fx-zoom-in', 'fx-zoom-out');
                img.src = `images/${currentSlideFolder}/${filename}`;
                caption.textContent = filename.replace(/Lulu_Bali_|Lulu_|.jpg/g, '').replace(/_/g, ' ');

                // 3. When image is loaded, start Fade IN + Ken Burns
                img.onload = () => {
                    // Force reflow
                    void img.offsetWidth;
                    
                    // Add transition class for opacity
                    img.classList.add('fade-transition');
                    
                    // Choose random zoom direction
                    zoomToggle = !zoomToggle;
                    img.classList.add(zoomToggle ? 'fx-zoom-in' : 'fx-zoom-out');
                    
                    // Trigger Fade IN
                    img.style.opacity = '1';
                };
            }, 500); // 0.5s fade out time
        }

        function nextSlide() {
            const images = galleries[currentSlideFolder];
            currentSlideIndex = (currentSlideIndex + 1) % images.length;
            showSlide();
        }

        function prevSlide() {
            const images = galleries[currentSlideFolder];
            currentSlideIndex = (currentSlideIndex - 1 + images.length) % images.length;
            showSlide();
            // Reset timer if manually changed
            if (!isPaused) {
                clearInterval(slideInterval);
                slideInterval = setInterval(nextSlide, 5000);
            }
        }

        function togglePause() {
            isPaused = !isPaused;
            updatePauseIcon();
            if (isPaused) {
                clearInterval(slideInterval);
            } else {
                nextSlide();
                slideInterval = setInterval(nextSlide, 5000);
            }
        }

        function updatePauseIcon() {
            const btn = document.getElementById('pause-btn');
            if (isPaused) {
                // Play Icon
                btn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z" /></svg>';
            } else {
                // Pause Icon
                btn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 5.25v13.5m-7.5-13.5v13.5" /></svg>';
            }
        }

        // Allow clicking individual images to start slideshow from there (optional, using Play button mainly)
        function openLightbox(folder, imgName) {
            currentSlideFolder = folder;
            const images = galleries[folder];
            currentSlideIndex = images.indexOf(imgName);
            document.getElementById('slideshow-modal').classList.remove('hidden');
            showSlide();
            isPaused = true; // Start paused if clicked manually
            updatePauseIcon();
        }
    </script>
